<form class="my-10 space-y-6" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="text-center">
    <h2 class="mb-1 text-3xl font-semibold text-foreground">Üye Ol! <span class="text-primary">!</span></h2>
    <p class="text-sm text-muted-foreground">Etkinlik dünyasına hoşgeldiniz!</p>
  </div>

  <!-- Hata Mesajı -->
  <div *ngIf="errorMessage" class="is__invalid-error">
    {{ errorMessage }}
  </div>

  <!-- Username Alanı -->
  <div class="relative">
    <input
      type="text"
      id="username"
      formControlName="username"
      class="peer block"
      placeholder="Username"
    />
    <label
      for="username"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Username
    </label>
    <div *ngIf="submitted && f['username'].errors" class="is__invalid-error">
      <div *ngIf="f['username'].errors['required']">Username gerekli</div>
    </div>
  </div>

  <!-- Email Alanı -->
  <div class="relative">
    <input
      type="text"
      id="email"
      formControlName="email"
      class="peer block"
      [ngClass]="{ 'is__invalid-input': submitted && f['email'].errors }"
      placeholder="e-mail"
    />
    <label
      for="email"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      E-mail
    </label>
    <div *ngIf="submitted && f['email'].errors" class="is__invalid-error">
      <div *ngIf="f['email'].errors['required']">E-posta gerekli</div>
      <div *ngIf="f['email'].errors['email']">Geçerli bir e-posta adresi girin</div>
    </div>
  </div>

  <div class="relative"> 
    <input
      type="text"
      id="name"
      formControlName="name"
      class="peer block"
      placeholder="Ad"
    />
    <label
      for="name"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Ad
    </label>
    <div *ngIf="submitted && f['name'].errors" class="is__invalid-error">
      <div *ngIf="f['name'].errors['required']">Ad gerekli</div>
    </div>
  </div>

  <!-- Soyad Alanı -->
  <div class="relative">
    <input
      type="text"
      id="surname"
      formControlName="surname"
      class="peer block"
      placeholder="Soyad"
    />
    <label
      for="surname"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Soyad
    </label>
    <div *ngIf="submitted && f['surname'].errors" class="is__invalid-error">
      <div *ngIf="f['surname'].errors['required']">Soyad gerekli</div>
    </div>
  </div>

  <!-- Yaş Alanı -->
  <div class="relative">
    <input
      type="number"
      id="age"
      formControlName="age"
      class="peer block"
      placeholder="Yaş"
    />
    <label
      for="age"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Yaş
    </label>
    <div *ngIf="submitted && f['age'].errors" class="is__invalid-error">
      <div *ngIf="f['age'].errors['required']">Yaş gerekli</div>
    </div>
  </div>

  <!-- Telefon Numarası Alanı -->
  <div class="relative">
    <input
      type="text"
      id="phoneNumber"
      formControlName="phoneNumber"
      class="peer block"
      placeholder="Telefon Numarası"
    />
    <label
      for="phoneNumber"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Telefon Numarası
    </label>
    <div *ngIf="submitted && f['phoneNumber'].errors" class="is__invalid-error">
      <div *ngIf="f['phoneNumber'].errors['required']">Telefon numarası gerekli</div>
    </div>
  </div>

  <!-- Şifre Alanı -->
  <div class="relative">
    <input
      type="password"
      id="password"
      formControlName="password"
      class="peer block"
      [ngClass]="{ 'is__invalid-input': submitted && f['password'].errors }"
      placeholder="Şifre"
    />
    <label
      for="password"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Şifre
    </label>
    <div *ngIf="submitted && f['password'].errors" class="is__invalid-error">
      <div *ngIf="f['password'].errors['required']">Şifre gerekli</div>
      <div *ngIf="f['password'].errors['minlength']">Şifre en az 8 karakter olmalı</div>
    </div>
  </div>

  <!-- Şifre Doğrulama -->
  <div class="relative">
    <input
      type="password"
      id="confirm-password"
      formControlName="confirmPassword"
      class="peer block"
      placeholder=" "
    />
    <label
      for="confirm-password"
      class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
      Şifreyi Doğrulayın
    </label>
  </div>

  <!-- Şartlar -->
  <div class="flex items-center justify-between space-x-3">
    <div class="flex items-center gap-1">
      <input id="accept-term" name="accept-term" type="checkbox" formControlName="acceptTerms" />
      <label for="accept-term" class="ml-2 block text-sm text-muted-foreground"> Şartları Kabul Et </label>
    </div>
    <div *ngIf="submitted && f['acceptTerms'].errors" class="is__invalid-error">
      <div *ngIf="f['acceptTerms'].errors['requiredTrue']">Şartları kabul etmelisiniz</div>
    </div>
  </div>

  <!-- Submit Button -->
  <div>
    <app-button
      [disabled]="loading"
      full
      impact="bold"
      tone="primary"
      shape="rounded"
      size="medium">
      {{ loading ? 'Kayıt Oluyor...' : 'Üye Ol' }}
    </app-button>
  </div>

  <!-- Sign-in -->
  <div class="flex items-center text-sm text-muted-foreground">
    Zaten bir hesabınız var mı?
    <app-button routerLink="/auth/sign-in" impact="none" tone="primary" shape="rounded" size="small">
      Giriş Yap
    </app-button>
  </div>
</form>
